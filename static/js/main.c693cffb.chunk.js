(this["webpackJsonpweight-tracker"]=this["webpackJsonpweight-tracker"]||[]).push([[0],{165:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(59),l=a.n(c),i=(a(67),a(14)),o=a(2),s=a(61),m=a(10),u=a(3),d=a(5),h=a(26),g=a(9),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_DATA":return Object(u.a)(Object(u.a)({},e),{},{data:Object(g.a)(t.savedData)});case"SET_UPDATED":return Object(u.a)(Object(u.a)({},e),{},{data:Object(g.a)(t.updatedItems)});case"ADD_ITEM":return Object(u.a)(Object(u.a)({},e),{},{data:[].concat(Object(g.a)(e.data),[t.itemToAdd])});case"DELETE_ITEM":return Object(u.a)(Object(u.a)({},e),{},{data:e.data.filter((function(e){return e.date!==t.itemToDelete.date}))});default:return e}},v={getData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:"1900-01-01",to:Date.now()},t=w.filter((function(t){return new Date(t.date)>=new Date(e.from)&&new Date(t.date)<=new Date(e.to)}));return t.sort((function(e,t){return new Date(e.date)-new Date(t.date)})),t},update:function(e,t){var a=w.map((function(a){return a.date===e.date?t:a}));return w=Object(g.a)(a)},deleteItem:function(e){var t=w.filter((function(t){return t.date!==e.date}));return w=Object(g.a)(t),e},addItem:function(e){return w.push(e),e}},w=[{date:"2020-07-23",weight:80},{date:"2020-07-24",weight:79},{date:"2020-07-25",weight:79},{date:"2020-07-26",weight:80},{date:"2020-07-27",weight:79},{date:"2020-07-28",weight:79},{date:"2020-07-29",weight:78},{date:"2020-07-30",weight:78},{date:"2020-07-31",weight:79},{date:"2020-08-01",weight:80},{date:"2020-08-02",weight:80},{date:"2020-08-03",weight:81},{date:"2020-08-04",weight:81},{date:"2020-08-05",weight:80},{date:"2020-08-06",weight:79},{date:"2020-08-07",weight:79},{date:"2020-08-08",weight:79},{date:"2020-08-09",weight:78},{date:"2020-08-10",weight:78},{date:"2020-08-11",weight:77},{date:"2020-08-12",weight:77},{date:"2020-08-13",weight:77},{date:"2020-08-14",weight:76},{date:"2020-08-15",weight:76},{date:"2020-08-16",weight:76},{date:"2020-08-17",weight:77},{date:"2020-08-18",weight:77},{date:"2020-08-19",weight:76},{date:"2020-08-20",weight:76},{date:"2020-08-21",weight:76},{date:"2020-08-22",weight:75},{date:"2020-08-23",weight:74},{date:"2020-08-24",weight:73}];var b=Object(n.createContext)(),E=function(e){var t=Object(n.useReducer)(f,{data:v.getData()}),a=Object(d.a)(t,2),c=a[0].data,l=a[1];return r.a.createElement(b.Provider,{value:{data:c,dispatch:l}},e.children)};function p(){var e,t,a=Object(n.useContext)(b),c=a.data,l=a.dispatch,i=Object(n.useState)(null),o=Object(d.a)(i,2),s=o[0],g=o[1],f=Object(n.useState)(c.length),w=Object(d.a)(f,2),E=w[0],p=w[1],j=Object(n.useState)({from:"1900-01-01",to:Date.now()}),N=Object(d.a)(j,2),O=N[0],y=N[1],D=Object(n.useState)(0),x=Object(d.a)(D,2),k=x[0],T=x[1];function C(e){y({from:"1900-01-01",to:Date.now()}),p(+e.target.value)}function I(e){"from"===e.target.name&&new Date(e.target.value)>new Date(c[c.length-1].date)||(p(c.length),y(Object(u.a)(Object(u.a)({},O),{},Object(m.a)({},e.target.name,e.target.value))))}return Object(n.useEffect)((function(){!function(){var e=v.getData(O);try{l({type:"SET_DATA",savedData:e})}catch(t){console.log(" err in data",t)}g({labels:e.slice(Math.max(e.length-E,0)).map((function(e){return e.date})),datasets:[{label:"Weight",data:e.slice(Math.max(e.length-E,0)).map((function(e){return e.weight})),backgroundColor:["rgba(75,192,192,0.6"],borderWidth:4}]})}(),function(){var e=c[0].weigth,t=0,a=0;c.reduce((function(n,r){return r.weight<e?(n++,++t>a&&(a=t)):(n=0,t=0),e=r.weight,n}),0);T(a)}()}),[E,O]),r.a.createElement("div",{className:"main container flex1  "},r.a.createElement("div",{className:"btn-wrapper flex justify-center space-around flex1"},r.a.createElement("div",{className:"flex wrap"},r.a.createElement("button",{className:"btn",value:"7",onClick:C},"7 Days"),r.a.createElement("button",{className:"btn",value:"30",onClick:C},"30 Days"),r.a.createElement("button",{className:"btn",value:"99999",onClick:C},"All Data")),r.a.createElement("div",{className:"dates-wrapper"},r.a.createElement("label",{htmlFor:"from"},"From"),r.a.createElement("input",{className:"input",onChange:I,type:"date",name:"from",value:(null===s||void 0===s||null===(e=s.labels)||void 0===e?void 0:e.length)>0&&s.labels[0],max:c[c.length-1].date}),r.a.createElement("label",{htmlFor:"to"},"To"),r.a.createElement("input",{className:"input",min:c[0].date,onChange:I,value:(null===s||void 0===s||null===(t=s.labels)||void 0===t?void 0:t.length)>0&&s.labels[s.labels.length-1],type:"date",name:"to"}))),s&&r.a.createElement("div",{className:"margin-top flex align-center justify-center line-container flex1"},r.a.createElement(h.Line,{data:s,options:{responsive:!0,scales:{yAxes:[{ticks:{}}]}}})),r.a.createElement("div",null,c&&r.a.createElement("div",null,r.a.createElement("div",{className:"data margin-top flex column justify-center align-center"},r.a.createElement("h3",{className:"title"},"Current Weight"),r.a.createElement("div",{className:"values"},c[c.length-1].weight," KG")),r.a.createElement("div",{className:"data flex column justify-center align-center"},r.a.createElement("h3",{className:"title"},"Progress Done"),r.a.createElement("div",{className:"values"},c[c.length-1].weight-c[0].weight," KG")),r.a.createElement("div",{className:"data flex column justify-center align-center"},r.a.createElement("h3",{className:"title"},"Longest Streak"),r.a.createElement("div",{className:"values"},k," Days")))))}function j(e){var t=e.item,a=e.updateData,c=e.removeItem,l=Object(n.useState)(""),i=Object(d.a)(l,2),o=i[0],s=i[1];function h(e){var t="date"===e.target.name?e.target.value:+e.target.value;s(Object(u.a)(Object(u.a)({},o),{},Object(m.a)({},e.target.name,t)))}return Object(n.useEffect)((function(){s(t)}),[]),r.a.createElement("div",{className:"history-item flex "},r.a.createElement("input",{className:"history-date",max:function(){var e=new Date,t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),[n,t,a].join("-")}(),type:"date",autoComplete:"false",name:"date",value:o.date,onChange:h}),r.a.createElement("input",{className:"history-weigth",type:"number",name:"weight",value:o.weight,onChange:h}),r.a.createElement("button",{className:"history-btn save",onClick:function(){return a(t,o)}},"Save"),r.a.createElement("button",{className:"history-btn delete",onClick:function(){return c(t)}},"Delete"))}function N(e){var t=e.data,a=e.updateData,n=e.removeItem;return t.map((function(e,t){return r.a.createElement(j,{key:e.date,updateData:a,removeItem:n,item:e})}))}function O(e){var t=e.addNewItem,a=Object(n.useState)({date:"",weight:0}),c=Object(d.a)(a,2),l=c[0],i=c[1];function o(e){var t="date"===e.target.name?e.target.value:+e.target.value;i(Object(u.a)(Object(u.a)({},l),{},Object(m.a)({},e.target.name,t)))}return r.a.createElement("div",{className:"history-item flex1 flex"},r.a.createElement("input",{className:"history-date",type:"date",max:function(){var e=new Date,t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),[n,t,a].join("-")}(),autoComplete:"false",name:"date",placeholder:"##/##/##",value:l.date,onChange:o}),r.a.createElement("input",{className:"history-weigth",type:"number",name:"weight",value:l.weight,placeholder:"Weigth",onChange:o}),r.a.createElement("button",{className:"history-btn save",onClick:function(){t(l),i({date:"",weight:0})}},"Add New"))}function y(){var e=Object(n.useContext)(b),t=e.data,a=e.dispatch;return r.a.createElement("div",{className:"history-container cards-container flex1"},r.a.createElement(O,{addNewItem:function(e){try{var t=v.addItem(e);a({type:"ADD_ITEM",itemToAdd:t})}catch(n){console.log(" err in data",n)}}}),r.a.createElement(N,{updateData:function(e,t){try{var n=v.update(e,t);a({type:"SET_UPDATED",updatedItems:n})}catch(r){console.log(" err in data",r)}},removeItem:function(e){try{var t=v.deleteItem(e);a({type:"DELETE_ITEM",itemToDelete:t})}catch(n){console.log(" err in data",n)}},data:t}))}a(165);function D(){return r.a.createElement("div",{className:"nav-bar container  flex space-between"},r.a.createElement(i.b,{activeClassName:"selected",className:"home",to:"/weightTracker",exact:!0},"Home"),r.a.createElement(i.b,{activeClassName:"selected",className:"history",to:"/weightTracker/history",exact:!0},"History"),r.a.createElement(i.b,{activeClassName:"selected",className:"history",to:"/weightTracker/months",exact:!0}," Months"))}function x(e){var t=e.month,a=Object(n.useState)(""),c=Object(d.a)(a,2),l=c[0],i=c[1];return Object(n.useEffect)((function(){return i({labels:t.data.map((function(e){return e.date})),datasets:[{label:"Weight",data:t.data.map((function(e){return e.weight})),backgroundColor:["rgba(75,192,192,0.6"],borderWidth:4}]}),function(){}}),[]),r.a.createElement("div",null,l&&r.a.createElement(h.Line,{data:l,options:{responsive:!0,title:{text:"Month: ".concat(t.month),display:!0},scales:{yAxes:[{ticks:{}}]}}}))}function k(e){var t=e.weightData;return r.a.createElement("div",null,t&&t.map((function(e){return e.data.length>0&&r.a.createElement(x,{key:e.month,month:e})})))}function T(){var e=Object(n.useContext)(b),t=e.data,a=(e.dispatch,Object(n.useState)(null)),c=Object(d.a)(a,2),l=c[0],i=c[1];return Object(n.useEffect)((function(){!function(){for(var e=[],a=function(a){var n=t.filter((function(e){return+e.date.substring(5,7)===a}));e=[].concat(Object(g.a)(e),[{month:a,data:n}])},n=1;n<=12;n++)a(n);i(e)}()}),[]),r.a.createElement("div",{className:"main container line-container flex1"},r.a.createElement(k,{weightData:l}))}var C=a(29);function I(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer-wrapper align-center flex space-between"},r.a.createElement("div",{className:"rights"},"All rights reserved"),r.a.createElement("div",{className:"icons flex "},r.a.createElement("a",{className:"flex align-center",href:"https://www.facebook.com"},r.a.createElement(C.a,{className:"icon fa"})),r.a.createElement("a",{className:"flex align-center",href:"https://www.instagram.com"},r.a.createElement(C.b,{className:"icon in"})),r.a.createElement("a",{className:"flex align-center",href:"https://www.linkedin.com/in/roy-amar-9b848224/"},r.a.createElement(C.c,{className:"icon fa"})))))}var A=Object(s.a)();var S=function(){return r.a.createElement(i.a,{history:A},r.a.createElement(E,null,r.a.createElement(D,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/weightTracker",component:p,exact:!0}),r.a.createElement(o.a,{path:"/weightTracker/history",component:y,exact:!0}),r.a.createElement(o.a,{path:"/weightTracker/months",component:T,exact:!0})),r.a.createElement(I,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,t,a){e.exports=a(168)},67:function(e,t,a){}},[[62,1,2]]]);
//# sourceMappingURL=main.c693cffb.chunk.js.map