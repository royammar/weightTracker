(this["webpackJsonpweight-tracker"]=this["webpackJsonpweight-tracker"]||[]).push([[0],{165:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(59),l=a.n(r),i=(a(67),a(14)),o=a(2),s=a(61),m=a(10),u=a(3),d=a(5),h=a(26),g=a(9),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_DATA":return Object(u.a)(Object(u.a)({},e),{},{data:Object(g.a)(t.savedData)});case"SET_UPDATED":return Object(u.a)(Object(u.a)({},e),{},{data:Object(g.a)(t.updatedItems)});case"ADD_ITEM":return Object(u.a)(Object(u.a)({},e),{},{data:[].concat(Object(g.a)(e.data),[t.itemToAdd])});case"DELETE_ITEM":return Object(u.a)(Object(u.a)({},e),{},{data:e.data.filter((function(e){return e.date!==t.itemToDelete.date}))});default:return e}},v={getData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:"1900-01-01",to:Date.now()},t=b.filter((function(t){return new Date(t.date)>=new Date(e.from)&&new Date(t.date)<=new Date(e.to)}));return t.sort((function(e,t){return new Date(e.date)-new Date(t.date)})),t},update:function(e,t){var a=b.map((function(a){return a.date===e.date?t:a}));return b=Object(g.a)(a)},deleteItem:function(e){var t=b.filter((function(t){return t.date!==e.date}));return b=Object(g.a)(t),e},addItem:function(e){return b.push(e),e}},b=[{date:"2020-07-23",weight:80},{date:"2020-07-24",weight:79},{date:"2020-07-25",weight:79},{date:"2020-07-26",weight:80},{date:"2020-07-27",weight:79},{date:"2020-07-28",weight:79},{date:"2020-07-29",weight:78},{date:"2020-07-30",weight:78},{date:"2020-07-31",weight:79},{date:"2020-08-01",weight:80},{date:"2020-08-02",weight:80},{date:"2020-08-03",weight:81},{date:"2020-08-04",weight:81},{date:"2020-08-05",weight:80},{date:"2020-08-06",weight:79},{date:"2020-08-07",weight:79},{date:"2020-08-08",weight:79},{date:"2020-08-09",weight:78},{date:"2020-08-10",weight:78},{date:"2020-08-11",weight:77},{date:"2020-08-12",weight:77},{date:"2020-08-13",weight:77},{date:"2020-08-14",weight:76},{date:"2020-08-15",weight:76},{date:"2020-08-16",weight:76},{date:"2020-08-17",weight:77},{date:"2020-08-18",weight:77},{date:"2020-08-19",weight:76},{date:"2020-08-20",weight:76},{date:"2020-08-21",weight:76},{date:"2020-08-22",weight:75},{date:"2020-08-23",weight:74},{date:"2020-08-24",weight:73}];var w=Object(n.createContext)(),E=function(e){var t=Object(n.useReducer)(f,{data:v.getData()}),a=Object(d.a)(t,2),r=a[0].data,l=a[1];return c.a.createElement(w.Provider,{value:{data:r,dispatch:l}},e.children)};function p(){var e,t,a=Object(n.useContext)(w),r=a.data,l=a.dispatch,i=Object(n.useState)(null),o=Object(d.a)(i,2),s=o[0],g=o[1],f=Object(n.useState)(r.length),b=Object(d.a)(f,2),E=b[0],p=b[1],j=Object(n.useState)({from:"1900-01-01",to:Date.now()}),N=Object(d.a)(j,2),O=N[0],y=N[1],D=Object(n.useState)(0),x=Object(d.a)(D,2),C=x[0],k=x[1];function T(e){y({from:"1900-01-01",to:Date.now()}),p(+e.target.value)}function I(e){"from"===e.target.name&&new Date(e.target.value)>new Date(r[r.length-1].date)||(p(r.length),y(Object(u.a)(Object(u.a)({},O),{},Object(m.a)({},e.target.name,e.target.value))))}return Object(n.useEffect)((function(){!function(){var e=v.getData(O);try{l({type:"SET_DATA",savedData:e})}catch(t){console.log(" err in data",t)}g({labels:e.slice(Math.max(e.length-E,0)).map((function(e){return e.date})),datasets:[{label:"Weight",data:e.slice(Math.max(e.length-E,0)).map((function(e){return e.weight})),backgroundColor:["rgba(75,192,192,0.6"],borderWidth:4}]})}(),function(){var e=r[0].weigth,t=0,a=0;r.reduce((function(n,c){return c.weight<e?(n++,++t>a&&(a=t)):(n=0,t=0),e=c.weight,n}),0);k(a)}()}),[E,O]),c.a.createElement("div",{className:"main container flex1  "},c.a.createElement("div",{className:"btn-wrapper flex justify-center space-around flex1"},c.a.createElement("div",{className:"flex wrap"},c.a.createElement("button",{className:"btn",value:"7",onClick:T},"7 Days"),c.a.createElement("button",{className:"btn",value:"30",onClick:T},"30 Days"),c.a.createElement("button",{className:"btn",value:"99999",onClick:T},"All Data")),c.a.createElement("div",{className:"dates-wrapper"},c.a.createElement("label",{htmlFor:"from"},"From"),c.a.createElement("input",{className:"input",onChange:I,type:"date",name:"from",value:(null===s||void 0===s||null===(e=s.labels)||void 0===e?void 0:e.length)>0&&s.labels[0],max:r[r.length-1].date}),c.a.createElement("label",{htmlFor:"to"},"To"),c.a.createElement("input",{className:"input",min:r[0].date,onChange:I,value:(null===s||void 0===s||null===(t=s.labels)||void 0===t?void 0:t.length)>0&&s.labels[s.labels.length-1],type:"date",name:"to"}))),s&&c.a.createElement("div",{className:"margin-top flex align-center justify-center line-container flex1"},c.a.createElement(h.Line,{data:s,options:{responsive:!0,scales:{yAxes:[{ticks:{}}]}}})),c.a.createElement("div",null,r&&c.a.createElement("div",null,c.a.createElement("div",{className:"data margin-top flex column justify-center align-center"},c.a.createElement("h3",{className:"title"},"Current Weight"),c.a.createElement("div",{className:"values"},r[r.length-1].weight," KG")),c.a.createElement("div",{className:"data flex column justify-center align-center"},c.a.createElement("h3",{className:"title"},"Progress Done"),c.a.createElement("div",{className:"values"},r[r.length-1].weight-r[0].weight," KG")),c.a.createElement("div",{className:"data flex column justify-center align-center"},c.a.createElement("h3",{className:"title"},"Longest Streak"),c.a.createElement("div",{className:"values"},C," Days")))))}function j(e){var t=e.item,a=e.updateData,r=e.removeItem,l=Object(n.useState)(""),i=Object(d.a)(l,2),o=i[0],s=i[1];function h(e){var t="date"===e.target.name?e.target.value:+e.target.value;s(Object(u.a)(Object(u.a)({},o),{},Object(m.a)({},e.target.name,t)))}return Object(n.useEffect)((function(){s(t)}),[]),c.a.createElement("div",{className:"history-item flex"},c.a.createElement("input",{className:"history-date",max:function(){var e=new Date,t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),[n,t,a].join("-")}(),type:"date",autoComplete:"false",name:"date",value:o.date,onChange:h}),c.a.createElement("input",{className:"history-weigth",type:"number",name:"weight",value:o.weight,onChange:h}),c.a.createElement("button",{className:"history-btn save",onClick:function(){return a(t,o)}},"Save"),c.a.createElement("button",{className:"history-btn delete",onClick:function(){return r(t)}},"Delete"))}function N(e){var t=e.data,a=e.updateData,n=e.removeItem;return t.map((function(e,t){return c.a.createElement(j,{key:e.date,updateData:a,removeItem:n,item:e})}))}function O(e){var t=e.addNewItem,a=Object(n.useState)({date:"",weight:0}),r=Object(d.a)(a,2),l=r[0],i=r[1];function o(e){var t="date"===e.target.name?e.target.value:+e.target.value;i(Object(u.a)(Object(u.a)({},l),{},Object(m.a)({},e.target.name,t)))}return c.a.createElement("div",{className:"history-item flex1 flex"},c.a.createElement("input",{className:"history-date",type:"date",max:function(){var e=new Date,t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),[n,t,a].join("-")}(),autoComplete:"false",name:"date",placeholder:"##/##/##",value:l.date,onChange:o}),c.a.createElement("input",{className:"history-weigth",type:"number",name:"weight",value:l.weight,placeholder:"Weigth",onChange:o}),c.a.createElement("button",{className:"history-btn save",onClick:function(){t(l),i({date:"",weight:0})}},"Add New"))}function y(){var e=Object(n.useContext)(w),t=e.data,a=e.dispatch;return c.a.createElement("div",{className:"history-container flex column  align-center"},c.a.createElement(O,{addNewItem:function(e){try{var t=v.addItem(e);a({type:"ADD_ITEM",itemToAdd:t})}catch(n){console.log(" err in data",n)}}}),c.a.createElement(N,{updateData:function(e,t){try{var n=v.update(e,t);a({type:"SET_UPDATED",updatedItems:n})}catch(c){console.log(" err in data",c)}},removeItem:function(e){try{var t=v.deleteItem(e);a({type:"DELETE_ITEM",itemToDelete:t})}catch(n){console.log(" err in data",n)}},data:t}))}a(165);function D(){return c.a.createElement("div",{className:"nav-bar container  flex space-between"},c.a.createElement(i.b,{activeClassName:"selected",className:"home",to:"/weightTracker",exact:!0},"Home"),c.a.createElement(i.b,{activeClassName:"selected",className:"history",to:"/history",exact:!0},"History"),c.a.createElement(i.b,{activeClassName:"selected",className:"history",to:"/months",exact:!0}," Months"))}function x(e){var t=e.month,a=Object(n.useState)(""),r=Object(d.a)(a,2),l=r[0],i=r[1];return Object(n.useEffect)((function(){return i({labels:t.data.map((function(e){return e.date})),datasets:[{label:"Weight",data:t.data.map((function(e){return e.weight})),backgroundColor:["rgba(75,192,192,0.6"],borderWidth:4}]}),function(){}}),[]),c.a.createElement("div",null,l&&c.a.createElement(h.Line,{data:l,options:{responsive:!0,title:{text:"Month: ".concat(t.month),display:!0},scales:{yAxes:[{ticks:{}}]}}}))}function C(e){var t=e.weightData;return c.a.createElement("div",null,t&&t.map((function(e){return e.data.length>0&&c.a.createElement(x,{key:e.month,month:e})})))}function k(){var e=Object(n.useContext)(w),t=e.data,a=(e.dispatch,Object(n.useState)(null)),r=Object(d.a)(a,2),l=r[0],i=r[1];return Object(n.useEffect)((function(){!function(){for(var e=[],a=function(a){var n=t.filter((function(e){return+e.date.substring(5,7)===a}));e=[].concat(Object(g.a)(e),[{month:a,data:n}])},n=1;n<=12;n++)a(n);i(e)}()}),[]),c.a.createElement("div",{className:"main container line-container flex1"},c.a.createElement(C,{weightData:l}))}var T=a(29);function I(){return c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"footer-wrapper align-center flex space-between"},c.a.createElement("div",{className:"rights"},"All rights reserved"),c.a.createElement("div",{className:"icons flex "},c.a.createElement("a",{className:"flex align-center",href:"https://www.facebook.com"},c.a.createElement(T.a,{className:"icon fa"})),c.a.createElement("a",{className:"flex align-center",href:"https://www.instagram.com"},c.a.createElement(T.b,{className:"icon in"})),c.a.createElement("a",{className:"flex align-center",href:"https://www.linkedin.com/in/roy-amar-9b848224/"},c.a.createElement(T.c,{className:"icon fa"})))))}var A=Object(s.a)();var S=function(){return c.a.createElement(i.a,{history:A},c.a.createElement(E,null,c.a.createElement(D,null),c.a.createElement(o.c,null,c.a.createElement(o.a,{path:"/history",component:y,exact:!0}),c.a.createElement(o.a,{path:"/months",component:k,exact:!0}),c.a.createElement(o.a,{path:"/",component:p,exact:!0})),c.a.createElement(I,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,t,a){e.exports=a(168)},67:function(e,t,a){}},[[62,1,2]]]);
//# sourceMappingURL=main.b97df720.chunk.js.map